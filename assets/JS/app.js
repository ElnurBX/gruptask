
let db=[
    {
        id: 1,
        basket: false,
        carName: "Toyota Corolla",
        carType: "sedan",
        carFuelVolume: 50,
        carMotorsType: "mecanica",
        passengersCount: 4,
        carPrice: 25000,
        carImgLink: "https://s3-alpha-sig.figma.com/img/702f/356e/48fe531e6fd2626c5d1041dbfcde3341?Expires=1714953600&Key-Pair-Id=APKAQ4GOSFWCVNEHN3O4&Signature=ko3YmACSiuvhf10VqRgyWmQRydJqezCQ5Q~OXxQp59E9RNWvc3vVFbiQN9BjH0VMuGfQwT5xTqz9sitpApXwszMonjNvwNkwjlz-Ppi3SaCrb79ChT9M5g5BiUnc2QADR3d-LYBjTNgev6wWwlh8SN0CH6scUCIyXHgQI0nP376y~sHNBGq8Gowx0BepeV5gR2XQkTkXuWZuvbvIfm0ZKNna-~zhcO2TCWAcYfqeyL9wlZfmZF4k26L9K996k0yvqjkYHdK4DtlpoM9-dSJewil8nm~h10o-S1lLUCkFimcu1Wenb4FfzGwcQDIrY7W9D4pPmp09VBZ131Bq9PawPQ__"
    },{
        id: 2,
        basket: false,
        carName: "Toyota Corolla",
        carType: "sedan",
        carFuelVolume: 50,
        carMotorsType: "mecanica",
        passengersCount: 4,
        carPrice: 25000,
        carImgLink: "https://s3-alpha-sig.figma.com/img/702f/356e/48fe531e6fd2626c5d1041dbfcde3341?Expires=1714953600&Key-Pair-Id=APKAQ4GOSFWCVNEHN3O4&Signature=ko3YmACSiuvhf10VqRgyWmQRydJqezCQ5Q~OXxQp59E9RNWvc3vVFbiQN9BjH0VMuGfQwT5xTqz9sitpApXwszMonjNvwNkwjlz-Ppi3SaCrb79ChT9M5g5BiUnc2QADR3d-LYBjTNgev6wWwlh8SN0CH6scUCIyXHgQI0nP376y~sHNBGq8Gowx0BepeV5gR2XQkTkXuWZuvbvIfm0ZKNna-~zhcO2TCWAcYfqeyL9wlZfmZF4k26L9K996k0yvqjkYHdK4DtlpoM9-dSJewil8nm~h10o-S1lLUCkFimcu1Wenb4FfzGwcQDIrY7W9D4pPmp09VBZ131Bq9PawPQ__"
    },{
        id: 3,
        basket: false,
        carName: "Toyota Corolla",
        carType: "sedan",
        carFuelVolume: 50,
        carMotorsType: "mecanica",
        passengersCount: 4,
        carPrice: 25000,
        carImgLink: "https://s3-alpha-sig.figma.com/img/702f/356e/48fe531e6fd2626c5d1041dbfcde3341?Expires=1714953600&Key-Pair-Id=APKAQ4GOSFWCVNEHN3O4&Signature=ko3YmACSiuvhf10VqRgyWmQRydJqezCQ5Q~OXxQp59E9RNWvc3vVFbiQN9BjH0VMuGfQwT5xTqz9sitpApXwszMonjNvwNkwjlz-Ppi3SaCrb79ChT9M5g5BiUnc2QADR3d-LYBjTNgev6wWwlh8SN0CH6scUCIyXHgQI0nP376y~sHNBGq8Gowx0BepeV5gR2XQkTkXuWZuvbvIfm0ZKNna-~zhcO2TCWAcYfqeyL9wlZfmZF4k26L9K996k0yvqjkYHdK4DtlpoM9-dSJewil8nm~h10o-S1lLUCkFimcu1Wenb4FfzGwcQDIrY7W9D4pPmp09VBZ131Bq9PawPQ__"
    },{
        id: 4,
        basket: false,
        carName: "Toyota Corolla",
        carType: "sedan",
        carFuelVolume: 50,
        carMotorsType: "mecanica",
        passengersCount: 4,
        carPrice: 25000,
        carImgLink: "https://s3-alpha-sig.figma.com/img/702f/356e/48fe531e6fd2626c5d1041dbfcde3341?Expires=1714953600&Key-Pair-Id=APKAQ4GOSFWCVNEHN3O4&Signature=ko3YmACSiuvhf10VqRgyWmQRydJqezCQ5Q~OXxQp59E9RNWvc3vVFbiQN9BjH0VMuGfQwT5xTqz9sitpApXwszMonjNvwNkwjlz-Ppi3SaCrb79ChT9M5g5BiUnc2QADR3d-LYBjTNgev6wWwlh8SN0CH6scUCIyXHgQI0nP376y~sHNBGq8Gowx0BepeV5gR2XQkTkXuWZuvbvIfm0ZKNna-~zhcO2TCWAcYfqeyL9wlZfmZF4k26L9K996k0yvqjkYHdK4DtlpoM9-dSJewil8nm~h10o-S1lLUCkFimcu1Wenb4FfzGwcQDIrY7W9D4pPmp09VBZ131Bq9PawPQ__"
    },{
        id: 5,
        basket: false,
        carName: "Toyota Corolla",
        carType: "sedan",
        carFuelVolume: 50,
        carMotorsType: "mecanica",
        passengersCount: 4,
        carPrice: 25000,
        carImgLink: "https://s3-alpha-sig.figma.com/img/702f/356e/48fe531e6fd2626c5d1041dbfcde3341?Expires=1714953600&Key-Pair-Id=APKAQ4GOSFWCVNEHN3O4&Signature=ko3YmACSiuvhf10VqRgyWmQRydJqezCQ5Q~OXxQp59E9RNWvc3vVFbiQN9BjH0VMuGfQwT5xTqz9sitpApXwszMonjNvwNkwjlz-Ppi3SaCrb79ChT9M5g5BiUnc2QADR3d-LYBjTNgev6wWwlh8SN0CH6scUCIyXHgQI0nP376y~sHNBGq8Gowx0BepeV5gR2XQkTkXuWZuvbvIfm0ZKNna-~zhcO2TCWAcYfqeyL9wlZfmZF4k26L9K996k0yvqjkYHdK4DtlpoM9-dSJewil8nm~h10o-S1lLUCkFimcu1Wenb4FfzGwcQDIrY7W9D4pPmp09VBZ131Bq9PawPQ__"
    },{
        id: 6,
        basket: false,
        carName: "Toyota Corolla",
        carType: "sedan",
        carFuelVolume: 50,
        carMotorsType: "mecanica",
        passengersCount: 4,
        carPrice: 25000,
        carImgLink: "https://s3-alpha-sig.figma.com/img/702f/356e/48fe531e6fd2626c5d1041dbfcde3341?Expires=1714953600&Key-Pair-Id=APKAQ4GOSFWCVNEHN3O4&Signature=ko3YmACSiuvhf10VqRgyWmQRydJqezCQ5Q~OXxQp59E9RNWvc3vVFbiQN9BjH0VMuGfQwT5xTqz9sitpApXwszMonjNvwNkwjlz-Ppi3SaCrb79ChT9M5g5BiUnc2QADR3d-LYBjTNgev6wWwlh8SN0CH6scUCIyXHgQI0nP376y~sHNBGq8Gowx0BepeV5gR2XQkTkXuWZuvbvIfm0ZKNna-~zhcO2TCWAcYfqeyL9wlZfmZF4k26L9K996k0yvqjkYHdK4DtlpoM9-dSJewil8nm~h10o-S1lLUCkFimcu1Wenb4FfzGwcQDIrY7W9D4pPmp09VBZ131Bq9PawPQ__"
    },
]
let local = JSON.parse(localStorage.getItem('cars')) || db;

localStorage.setItem('cars', JSON.stringify(db));



function detastractcar(carName,carType,carFuilValum,passengersCount,carPrice,carMotorsType,carimglink,id){
    
    let data={
        basket:false,
        carName:carName,
        carType:carType,
        carFuilValum:carFuilValum,
        carMotorsType:carMotorsType,
        passengersCount:passengersCount,
        carPrice:carPrice,
        carimglink:carimglink,
        id:id
    }
    return data
}
//!form add
const carNameInp =document.getElementById("carName")
const carTypeInp =document.getElementById("carType")
const carFuilValumInp =document.getElementById("carFuilValum")
const carMotorsTypeInp =document.getElementById("carMotorsType")
const passengersCountInp =document.getElementById("passengersCount")
const carPriceInp =document.getElementById("carPrice")
const carimglinkInp =document.getElementById("carimglink")

const add=document.getElementById("add")
add.addEventListener("submit", (e)=>{
    e.preventDefault()
    let id=db.length
    let carNameVal =carNameInp.value
    let carTypeVal =carTypeInp.value
    let carFuilValumVal =carFuilValumInp.value
    let carMotorsTypeVal =carMotorsTypeInp.value
    let passengersCountVal =passengersCountInp.value
    let carPriceVal =carPriceInp.value
    let carimglinkVal =carimglinkInp.value
    let data= detastractcar(carNameVal,carTypeVal,carFuilValumVal,carMotorsTypeVal,passengersCountVal,carPriceVal,carimglinkVal,id)
   
    if ( testnull(carNameVal, carTypeVal, carFuilValumVal, carMotorsTypeVal, carPriceVal, carimglinkVal)) {
     db.push(data)
     
   }
   

    localStorage.setItem('cars', JSON.stringify(db));
})

const testnull = (carNameVal, carTypeVal, carFuilValumVal, carMotorsTypeVal, carPriceVal, carimglinkVal) => {
    console.log((!(carNameVal.trim() === "")  && !( carTypeVal.trim() === "")  &&  !(carFuilValumVal.trim() === "")  &&  !(carMotorsTypeVal.trim() === "")  &&  !(carPriceVal.trim() === "")  &&  !(carimglinkVal.trim() === "")) )
    if (!(carNameVal.trim() === "")  && !( carTypeVal.trim() === "")  &&  !(carFuilValumVal.trim() === "")  &&  !(carMotorsTypeVal.trim() === "")  &&  !(carPriceVal.trim() === "")  &&  !(carimglinkVal.trim() === "")) {
        alert("Please fill in all fields");
        
        return true
    } else {
        alert("All fields are filled correctly");  
        
        return;
        
    }
}
function cardfild(local) {
    let inner = '';
    for (let i = 0; i < local.length; i++) {
        inner += `
        <div class="card col-4">
            <div class="card__header">
            <i class="d-none">${local[i].id}</i>
                <div class="card__header__left">
                    <h5>${local[i].carName}</h5>
                    <span>${local[i].carType}</span>
                </div>
                <button id="favorite" oneclick="addbasket(${local[i].id})"><i class="fa-solid fa-heart"></i></button>
            </div>
            <div class="card__img">
                <img src="${local[i].carimglink}" alt="">
            </div>
            <div class="card__properties">
                <img src="../assets/img/ferec/gas-station.png" alt="">
                <span>${local[i].carFuilValum}L</span>
                <img src="../assets/img/ferec/Car (1).png" alt="">
                <span>${local[i].carMotorsType}</span>
                <img src="../assets/img/ferec/profile-2user.png" alt="">
                <span>${local[i].passengersCount} People</span>
            </div>
            <div class="card__bottom">
                <div class="card__bottom__left">
                    <span><b>$${local[i].carPrice}.00/</b>day</span>
                </div>
                <button id="rent">Rent Now</button>
            </div>
        </div>
        `;
    }
    return inner;
}
function addbasket(id){
    let basketfound = local.find((pro) => pro.id === id);
    if (basketfound.basket) {
        basketfound.basket=false
    } else {
        basketfound.basket=true
    }
}